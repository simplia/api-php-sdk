<?php

/**
 * !!! AUTOGENERATED FROM OPENAPI SPECIFICATION
 * !!! DON'T EDIT AND DON'T SEND PULL REQUESTS DIRECTLY FOR THIS FILE
 */

declare(strict_types=1);

namespace Simplia\Api\Endpoint;

use Simplia\Api\Entity\EmailMessageApiEntity;
use Simplia\Api\FieldConfig\EmailMessageApiFieldConfig;
use Simplia\Api\Input\EmailMessageTypeApiInput;

class EmailApiEndpoint extends AbstractApiEndpoint {
    /**
     * Send e-mail
     *
     * return EmailMessageApiEntity[]
     */
    final public function send(EmailMessageTypeApiInput $input, ?EmailMessageApiFieldConfig $fields = null): array {
        $result = $this->request('POST', 'email/send', [], $input, $fields);

        return array_map(static fn(array $row) => new EmailMessageApiEntity($row), $result);
    }
}
